digraph pipeline {
	rankdir = BT;

	/*
	subgraph cluster_async {
		label = "Async (input)";
		socket_in;
		events;
	}
	subgraph cluster_output {
		label = "Output";
		socket_out;
	}
	subgraph cluster_sync {
		label = "Sync (game loop)";
		update_state -> integrate_state -> notify_state_change -> render -> update_state
	}
	state [shape=box];
	
	update_state -> state [style=dashed];
	state -> integrate_state [style=dashed];

	events -> state [style=dashed];

	socket_in -> events;
	socket_in -> state [style=dashed];

	blank1 [label=""];

	notify_state_change -> blank1 [style=dashed];
	blank1 -> state [style=dashed];
	blank1 -> socket_out [style=dashed];
	*/

	foundation [shape=box]
	
	plugin_graphics [label="plugin\ngraphics"; shape=diamond]
	plugin_physics [label="plugin\nphysics"; shape=diamond]
	plugin_network [label="plugin\nnetwork"; shape=diamond]
	
	map [shape=pentagon]

	mod_1 [label="mod\nmaze"]
	mod_2 [label="mod\nheight_field"]
	
	plugin_graphics_1 -> plugin_graphics -> foundation
	plugin_physics_1 -> plugin_physics -> foundation
	plugin_netwoek_1 -> plugin_network -> foundation

	python -> foundation

}
